{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst emptyBuffer = Buffer.allocUnsafe(0);\n\nclass BufferReader {\n  constructor(offset = 0) {\n    this.offset = offset;\n    this.buffer = emptyBuffer; // TODO(bmc): support non-utf8 encoding\n\n    this.encoding = 'utf-8';\n  }\n\n  setBuffer(offset, buffer) {\n    this.offset = offset;\n    this.buffer = buffer;\n  }\n\n  int16() {\n    const result = this.buffer.readInt16BE(this.offset);\n    this.offset += 2;\n    return result;\n  }\n\n  byte() {\n    const result = this.buffer[this.offset];\n    this.offset++;\n    return result;\n  }\n\n  int32() {\n    const result = this.buffer.readInt32BE(this.offset);\n    this.offset += 4;\n    return result;\n  }\n\n  string(length) {\n    const result = this.buffer.toString(this.encoding, this.offset, this.offset + length);\n    this.offset += length;\n    return result;\n  }\n\n  cstring() {\n    var start = this.offset;\n    var end = this.buffer.indexOf(0, start);\n    this.offset = end + 1;\n    return this.buffer.toString(this.encoding, start, end);\n  }\n\n  bytes(length) {\n    const result = this.buffer.slice(this.offset, this.offset + length);\n    this.offset += length;\n    return result;\n  }\n\n}\n\nexports.BufferReader = BufferReader;","map":{"version":3,"sources":["../src/BufferReader.ts"],"names":[],"mappings":";;;;;AAAA,MAAM,WAAW,GAAG,MAAM,CAAC,WAAP,CAAmB,CAAnB,CAApB;;AAEA,MAAa,YAAb,CAAyB;AAIvB,EAAA,WAAA,CAAoB,MAAA,GAAiB,CAArC,EAAsC;AAAlB,SAAA,MAAA,GAAA,MAAA;AAHZ,SAAA,MAAA,GAAiB,WAAjB,CAG8B,CAFtC;;AACQ,SAAA,QAAA,GAAmB,OAAnB;AAEP;;AACM,EAAA,SAAS,CAAC,MAAD,EAAiB,MAAjB,EAA+B;AAC7C,SAAK,MAAL,GAAc,MAAd;AACA,SAAK,MAAL,GAAc,MAAd;AACD;;AACM,EAAA,KAAK,GAAA;AACV,UAAM,MAAM,GAAG,KAAK,MAAL,CAAY,WAAZ,CAAwB,KAAK,MAA7B,CAAf;AACA,SAAK,MAAL,IAAe,CAAf;AACA,WAAO,MAAP;AACD;;AACM,EAAA,IAAI,GAAA;AACT,UAAM,MAAM,GAAG,KAAK,MAAL,CAAY,KAAK,MAAjB,CAAf;AACA,SAAK,MAAL;AACA,WAAO,MAAP;AACD;;AACM,EAAA,KAAK,GAAA;AACV,UAAM,MAAM,GAAG,KAAK,MAAL,CAAY,WAAZ,CAAwB,KAAK,MAA7B,CAAf;AACA,SAAK,MAAL,IAAe,CAAf;AACA,WAAO,MAAP;AACD;;AACM,EAAA,MAAM,CAAC,MAAD,EAAe;AAC1B,UAAM,MAAM,GAAG,KAAK,MAAL,CAAY,QAAZ,CAAqB,KAAK,QAA1B,EAAoC,KAAK,MAAzC,EAAiD,KAAK,MAAL,GAAc,MAA/D,CAAf;AACA,SAAK,MAAL,IAAe,MAAf;AACA,WAAO,MAAP;AACD;;AACM,EAAA,OAAO,GAAA;AACZ,QAAI,KAAK,GAAG,KAAK,MAAjB;AACA,QAAI,GAAG,GAAG,KAAK,MAAL,CAAY,OAAZ,CAAoB,CAApB,EAAuB,KAAvB,CAAV;AACA,SAAK,MAAL,GAAc,GAAG,GAAG,CAApB;AACA,WAAO,KAAK,MAAL,CAAY,QAAZ,CAAqB,KAAK,QAA1B,EAAoC,KAApC,EAA2C,GAA3C,CAAP;AACD;;AACM,EAAA,KAAK,CAAC,MAAD,EAAe;AACzB,UAAM,MAAM,GAAG,KAAK,MAAL,CAAY,KAAZ,CAAkB,KAAK,MAAvB,EAA+B,KAAK,MAAL,GAAc,MAA7C,CAAf;AACA,SAAK,MAAL,IAAe,MAAf;AACA,WAAO,MAAP;AACD;;AAxCsB;;AAAzB,OAAA,CAAA,YAAA,GAAA,YAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst emptyBuffer = Buffer.allocUnsafe(0);\nclass BufferReader {\n    constructor(offset = 0) {\n        this.offset = offset;\n        this.buffer = emptyBuffer;\n        // TODO(bmc): support non-utf8 encoding\n        this.encoding = 'utf-8';\n    }\n    setBuffer(offset, buffer) {\n        this.offset = offset;\n        this.buffer = buffer;\n    }\n    int16() {\n        const result = this.buffer.readInt16BE(this.offset);\n        this.offset += 2;\n        return result;\n    }\n    byte() {\n        const result = this.buffer[this.offset];\n        this.offset++;\n        return result;\n    }\n    int32() {\n        const result = this.buffer.readInt32BE(this.offset);\n        this.offset += 4;\n        return result;\n    }\n    string(length) {\n        const result = this.buffer.toString(this.encoding, this.offset, this.offset + length);\n        this.offset += length;\n        return result;\n    }\n    cstring() {\n        var start = this.offset;\n        var end = this.buffer.indexOf(0, start);\n        this.offset = end + 1;\n        return this.buffer.toString(this.encoding, start, end);\n    }\n    bytes(length) {\n        const result = this.buffer.slice(this.offset, this.offset + length);\n        this.offset += length;\n        return result;\n    }\n}\nexports.BufferReader = BufferReader;\n//# sourceMappingURL=BufferReader.js.map"]},"metadata":{},"sourceType":"script"}