{"ast":null,"code":"import _possibleConstructorReturn from\"/Users/dirkstahlecker/programming/word-frequencies-heroku/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/dirkstahlecker/programming/word-frequencies-heroku/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/dirkstahlecker/programming/word-frequencies-heroku/node_modules/@babel/runtime/helpers/esm/inherits\";import _initializerDefineProperty from\"/Users/dirkstahlecker/programming/word-frequencies-heroku/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty\";import _classCallCheck from\"/Users/dirkstahlecker/programming/word-frequencies-heroku/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/dirkstahlecker/programming/word-frequencies-heroku/node_modules/@babel/runtime/helpers/esm/createClass\";import _applyDecoratedDescriptor from\"/Users/dirkstahlecker/programming/word-frequencies-heroku/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor\";import _initializerWarningHelper from\"/Users/dirkstahlecker/programming/word-frequencies-heroku/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper\";var _class,_descriptor,_temp,_class3;import*as React from\"react\";// import {NameReference} from \"./NameReference\";\nimport{observable,action}from\"mobx\";import{observer}from\"mobx-react\";import{MarkupUtils}from\"./MarkupUtils\";export var JournalReaderMachine=(_class=(_temp=/*#__PURE__*/function(){function JournalReaderMachine(){_classCallCheck(this,JournalReaderMachine);_initializerDefineProperty(this,\"rawText\",_descriptor,this);}_createClass(JournalReaderMachine,[{key:\"updateRawText\",value:function updateRawText(value){this.rawText=this.replaceMarkupWithDisplayName(value);}},{key:\"replaceMarkupWithDisplayName\",value:function replaceMarkupWithDisplayName(rawText){while(true){var markup=MarkupUtils.getFullMarkupFromString(rawText);if(markup==null){break;}var displayName=MarkupUtils.getDisplayNameFromMarkup(markup);if(displayName==null){console.error(\"Invalid markup was received from getFullMarkupFromString\");return\"TODO\";}rawText=rawText.replace(markup,displayName);}return rawText;}}]);return JournalReaderMachine;}(),_temp),(_descriptor=_applyDecoratedDescriptor(_class.prototype,\"rawText\",[observable],{configurable:true,enumerable:true,writable:true,initializer:function initializer(){return\"\";}}),_applyDecoratedDescriptor(_class.prototype,\"updateRawText\",[action],Object.getOwnPropertyDescriptor(_class.prototype,\"updateRawText\"),_class.prototype)),_class);export var JournalReader=observer(_class3=/*#__PURE__*/function(_React$Component){_inherits(JournalReader,_React$Component);function JournalReader(){_classCallCheck(this,JournalReader);return _possibleConstructorReturn(this,_getPrototypeOf(JournalReader).apply(this,arguments));}_createClass(JournalReader,[{key:\"render\",value:function render(){var _this=this;return React.createElement(\"div\",null,React.createElement(\"input\",{type:\"text\",onChange:function onChange(e){return _this.machine.updateRawText(e.currentTarget.value);}}),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"textarea\",{disabled:true,value:this.machine.rawText,style:{width:\"750px\",height:\"300px\"}}));}},{key:\"machine\",get:function get(){return this.props.machine;}}]);return JournalReader;}(React.Component))||_class3;","map":{"version":3,"sources":["/Users/dirkstahlecker/programming/word-frequencies-heroku/src/JournalReader.tsx"],"names":["React","observable","action","observer","MarkupUtils","JournalReaderMachine","value","rawText","replaceMarkupWithDisplayName","markup","getFullMarkupFromString","displayName","getDisplayNameFromMarkup","console","error","replace","JournalReader","e","machine","updateRawText","currentTarget","width","height","props","Component"],"mappings":"utCAAA,MAAO,GAAKA,CAAAA,KAAZ,KAAuB,OAAvB,CACA;AACA,OAAQC,UAAR,CAAoBC,MAApB,KAAiC,MAAjC,CACA,OAAQC,QAAR,KAAuB,YAAvB,CACA,OAAQC,WAAR,KAA0B,eAA1B,CAOA,UAAaC,CAAAA,oBAAb,qQAKsBC,KALtB,CAMC,CACC,KAAKC,OAAL,CAAe,KAAKC,4BAAL,CAAkCF,KAAlC,CAAf,CACA,CARF,kFAUsCC,OAVtC,CAWC,CACC,MAAO,IAAP,CACA,CACC,GAAIE,CAAAA,MAAqB,CAAGL,WAAW,CAACM,uBAAZ,CAAoCH,OAApC,CAA5B,CACA,GAAIE,MAAM,EAAI,IAAd,CACA,CACC,MACA,CAED,GAAME,CAAAA,WAA0B,CAAGP,WAAW,CAACQ,wBAAZ,CAAqCH,MAArC,CAAnC,CACA,GAAIE,WAAW,EAAI,IAAnB,CACA,CACCE,OAAO,CAACC,KAAR,CAAc,0DAAd,EACA,MAAO,MAAP,CACA,CACDP,OAAO,CAAGA,OAAO,CAACQ,OAAR,CAAgBN,MAAhB,CAAwBE,WAAxB,CAAV,CACA,CACD,MAAOJ,CAAAA,OAAP,CACA,CA7BF,8GAEEN,UAFF,4FAEsC,EAFtC,iEAIEC,MAJF,+FAiCA,UAAac,CAAAA,aAAb,CADCb,QACD,uTAQC,gBACC,MAAO,gCACN,6BAAO,IAAI,CAAC,MAAZ,CAAmB,QAAQ,CAAE,kBAACc,CAAD,QAAO,CAAA,KAAI,CAACC,OAAL,CAAaC,aAAb,CAA2BF,CAAC,CAACG,aAAF,CAAgBd,KAA3C,CAAP,EAA7B,EADM,CAEN,8BAFM,CAGN,8BAHM,CAIN,gCAAU,QAAQ,CAAE,IAApB,CAA0B,KAAK,CAAE,KAAKY,OAAL,CAAaX,OAA9C,CAAuD,KAAK,CAAE,CAACc,KAAK,CAAE,OAAR,CAAiBC,MAAM,CAAE,OAAzB,CAA9D,EAJM,CAAP,CAMA,CAfF,mCAGC,CACC,MAAO,MAAKC,KAAL,CAAWL,OAAlB,CACA,CALF,2BAAmClB,KAAK,CAACwB,SAAzC","sourcesContent":["import * as React from \"react\";\n// import {NameReference} from \"./NameReference\";\nimport {observable, action} from \"mobx\";\nimport {observer} from \"mobx-react\";\nimport {MarkupUtils} from \"./MarkupUtils\";\n\nexport interface JournalReaderProps\n{\n\tmachine: JournalReaderMachine;\n}\n\nexport class JournalReaderMachine\n{\n\t@observable public rawText: string = \"\";\n\n\t@action\n\tpublic updateRawText(value: string): void\n\t{\n\t\tthis.rawText = this.replaceMarkupWithDisplayName(value);\n\t}\n\n\tprivate replaceMarkupWithDisplayName(rawText: string): string\n\t{\n\t\twhile (true)\n\t\t{\n\t\t\tlet markup: string | null = MarkupUtils.getFullMarkupFromString(rawText);\n\t\t\tif (markup == null)\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst displayName: string | null = MarkupUtils.getDisplayNameFromMarkup(markup);\n\t\t\tif (displayName == null)\n\t\t\t{\n\t\t\t\tconsole.error(\"Invalid markup was received from getFullMarkupFromString\");\n\t\t\t\treturn \"TODO\";\n\t\t\t}\n\t\t\trawText = rawText.replace(markup, displayName);\n\t\t}\n\t\treturn rawText;\n\t}\n}\n\n@observer\nexport class JournalReader extends React.Component<JournalReaderProps>\n{\n\tprivate get machine(): JournalReaderMachine\n\t{\n\t\treturn this.props.machine;\n\t}\n\n\trender()\n\t{\n\t\treturn <div>\n\t\t\t<input type=\"text\" onChange={(e) => this.machine.updateRawText(e.currentTarget.value)}/>\n\t\t\t<br/>\n\t\t\t<br/>\n\t\t\t<textarea disabled={true} value={this.machine.rawText} style={{width: \"750px\", height: \"300px\"}}/>\n\t\t</div>;\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}