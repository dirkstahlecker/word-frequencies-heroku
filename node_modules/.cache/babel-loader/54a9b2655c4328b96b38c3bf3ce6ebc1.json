{"ast":null,"code":"import _initializerDefineProperty from \"/Users/dirkstahlecker/programming/word-frequencies-heroku/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty\";\nimport _applyDecoratedDescriptor from \"/Users/dirkstahlecker/programming/word-frequencies-heroku/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\nimport _initializerWarningHelper from \"/Users/dirkstahlecker/programming/word-frequencies-heroku/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper\";\n\nvar _class,\n    _descriptor,\n    _temp,\n    _class3,\n    _jsxFileName = \"/Users/dirkstahlecker/programming/word-frequencies-heroku/src/JournalReader.tsx\";\n\nimport * as React from \"react\"; // import {NameReference} from \"./NameReference\";\n\nimport { observable, action } from \"mobx\";\nimport { observer } from \"mobx-react\";\nimport { MarkupUtils } from \"./MarkupUtils\";\nexport let JournalReaderMachine = (_class = (_temp = class JournalReaderMachine {\n  constructor() {\n    _initializerDefineProperty(this, \"rawText\", _descriptor, this);\n  }\n\n  updateRawText(value) {\n    this.rawText = this.replaceMarkupWithDisplayName(value);\n  }\n\n  replaceMarkupWithDisplayName(rawText) {\n    while (true) {\n      let markup = MarkupUtils.getFullMarkupFromString(rawText);\n\n      if (markup == null) {\n        break;\n      }\n\n      const displayName = MarkupUtils.getDisplayNameFromMarkup(markup);\n\n      if (displayName == null) {\n        console.error(\"Invalid markup was received from getFullMarkupFromString\");\n        return \"TODO\";\n      }\n\n      rawText = rawText.replace(markup, displayName);\n    }\n\n    return rawText;\n  }\n\n}, _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"rawText\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return \"\";\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"updateRawText\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"updateRawText\"), _class.prototype)), _class);\nexport let JournalReader = observer(_class3 = class JournalReader extends React.Component {\n  get machine() {\n    return this.props.machine;\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      onChange: e => this.machine.updateRawText(e.currentTarget.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), React.createElement(\"textarea\", {\n      disabled: true,\n      value: this.machine.rawText,\n      style: {\n        width: \"750px\",\n        height: \"300px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }));\n  }\n\n}) || _class3;","map":{"version":3,"sources":["/Users/dirkstahlecker/programming/word-frequencies-heroku/src/JournalReader.tsx"],"names":["React","observable","action","observer","MarkupUtils","JournalReaderMachine","updateRawText","value","rawText","replaceMarkupWithDisplayName","markup","getFullMarkupFromString","displayName","getDisplayNameFromMarkup","console","error","replace","JournalReader","Component","machine","props","render","e","currentTarget","width","height"],"mappings":";;;;;;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB,C,CACA;;AACA,SAAQC,UAAR,EAAoBC,MAApB,QAAiC,MAAjC;AACA,SAAQC,QAAR,QAAuB,YAAvB;AACA,SAAQC,WAAR,QAA0B,eAA1B;AAQA,WAAaC,oBAAb,sBAAO,MAAMA,oBAAN,CACP;AAAA;AAAA;AAAA;;AAIQC,EAAAA,aADP,CACqBC,KADrB,EAEA;AACC,SAAKC,OAAL,GAAe,KAAKC,4BAAL,CAAkCF,KAAlC,CAAf;AACA;;AAEOE,EAAAA,4BAAR,CAAqCD,OAArC,EACA;AACC,WAAO,IAAP,EACA;AACC,UAAIE,MAAqB,GAAGN,WAAW,CAACO,uBAAZ,CAAoCH,OAApC,CAA5B;;AACA,UAAIE,MAAM,IAAI,IAAd,EACA;AACC;AACA;;AAED,YAAME,WAA0B,GAAGR,WAAW,CAACS,wBAAZ,CAAqCH,MAArC,CAAnC;;AACA,UAAIE,WAAW,IAAI,IAAnB,EACA;AACCE,QAAAA,OAAO,CAACC,KAAR,CAAc,0DAAd;AACA,eAAO,MAAP;AACA;;AACDP,MAAAA,OAAO,GAAGA,OAAO,CAACQ,OAAR,CAAgBN,MAAhB,EAAwBE,WAAxB,CAAV;AACA;;AACD,WAAOJ,OAAP;AACA;;AA5BF,CADA,iFAEEP,UAFF;AAAA;AAAA;AAAA;AAAA;AAAA,WAEsC,EAFtC;AAAA;AAAA,kEAIEC,MAJF;AAiCA,WAAae,aAAb,GADCd,QACD,WADA,MACac,aADb,SACmCjB,KAAK,CAACkB,SADzC,CAEA;AACC,MAAYC,OAAZ,GACA;AACC,WAAO,KAAKC,KAAL,CAAWD,OAAlB;AACA;;AAEDE,EAAAA,MAAM,GACN;AACC,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACN;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,QAAQ,EAAGC,CAAD,IAAO,KAAKH,OAAL,CAAab,aAAb,CAA2BgB,CAAC,CAACC,aAAF,CAAgBhB,KAA3C,CAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADM,EAEN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFM,EAGN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHM,EAIN;AAAU,MAAA,QAAQ,EAAE,IAApB;AAA0B,MAAA,KAAK,EAAE,KAAKY,OAAL,CAAaX,OAA9C;AAAuD,MAAA,KAAK,EAAE;AAACgB,QAAAA,KAAK,EAAE,OAAR;AAAiBC,QAAAA,MAAM,EAAE;AAAzB,OAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJM,CAAP;AAMA;;AAdF,CADA","sourcesContent":["import * as React from \"react\";\n// import {NameReference} from \"./NameReference\";\nimport {observable, action} from \"mobx\";\nimport {observer} from \"mobx-react\";\nimport {MarkupUtils} from \"./MarkupUtils\";\nimport $ from 'jquery';\n\nexport interface JournalReaderProps\n{\n\tmachine: JournalReaderMachine;\n}\n\nexport class JournalReaderMachine\n{\n\t@observable public rawText: string = \"\";\n\n\t@action\n\tpublic updateRawText(value: string): void\n\t{\n\t\tthis.rawText = this.replaceMarkupWithDisplayName(value);\n\t}\n\n\tprivate replaceMarkupWithDisplayName(rawText: string): string\n\t{\n\t\twhile (true)\n\t\t{\n\t\t\tlet markup: string | null = MarkupUtils.getFullMarkupFromString(rawText);\n\t\t\tif (markup == null)\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst displayName: string | null = MarkupUtils.getDisplayNameFromMarkup(markup);\n\t\t\tif (displayName == null)\n\t\t\t{\n\t\t\t\tconsole.error(\"Invalid markup was received from getFullMarkupFromString\");\n\t\t\t\treturn \"TODO\";\n\t\t\t}\n\t\t\trawText = rawText.replace(markup, displayName);\n\t\t}\n\t\treturn rawText;\n\t}\n}\n\n@observer\nexport class JournalReader extends React.Component<JournalReaderProps>\n{\n\tprivate get machine(): JournalReaderMachine\n\t{\n\t\treturn this.props.machine;\n\t}\n\n\trender()\n\t{\n\t\treturn <div>\n\t\t\t<input type=\"text\" onChange={(e) => this.machine.updateRawText(e.currentTarget.value)}/>\n\t\t\t<br/>\n\t\t\t<br/>\n\t\t\t<textarea disabled={true} value={this.machine.rawText} style={{width: \"750px\", height: \"300px\"}}/>\n\t\t</div>;\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}