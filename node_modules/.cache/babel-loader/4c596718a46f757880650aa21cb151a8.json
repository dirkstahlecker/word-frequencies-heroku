{"ast":null,"code":"var _class;\n\nimport * as React from \"react\";\nimport { observer } from \"mobx-react\";\nimport { JournalReaderMachine } from \"../JournalReader\";\nexport class StatsMachine {\n  //not observable - changing the journal needs a new stats object\n  constructor(journal) {\n    this.journal = \"\";\n    this.namesDB = new NamesDB();\n    // this.journal = journal; //TODO\n    this.journal = \"1-1-20: Test journal [!!Colin|Colin_Poler!!] and [!!Phil|Phil_Seo!!].\\n\\n1-2-20: Another.\";\n    this.makeStats();\n  } //remove null and empty pieces\n\n\n  cleansePieces(pieces) {\n    const ret = [];\n    pieces.forEach(piece => {\n      if (piece == null || pieces === undefined) {\n        return;\n      }\n\n      if (piece === \"\") {\n        return;\n      }\n\n      ret.push(piece);\n    });\n    return ret;\n  }\n\n  makeNamesDict(pieces) {\n    pieces.forEach(piece => {\n      // if (this.namesDB.h)\n      console.log(\"a\");\n    }); // this.namesDB\n  }\n\n  makeStats() {\n    let pieces = JournalReaderMachine.splitOnMarkupPieces(this.journal);\n    pieces = this.cleansePieces(pieces);\n    this.makeNamesDict(pieces);\n  }\n\n}\nexport let Stats = observer(_class = class Stats extends React.Component {\n  get machine() {\n    return this.props.machine;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, \"Stats test\");\n  }\n\n}) || _class;","map":{"version":3,"sources":["/Users/dirkstahlecker/programming/word-frequencies-heroku/src/stats/Stats.tsx"],"names":["React","observer","JournalReaderMachine","StatsMachine","constructor","journal","namesDB","NamesDB","makeStats","cleansePieces","pieces","ret","forEach","piece","undefined","push","makeNamesDict","console","log","splitOnMarkupPieces","Stats","Component","machine","props","render"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AAEA,SAAQC,QAAR,QAAuB,YAAvB;AACA,SAAQC,oBAAR,QAAmC,kBAAnC;AAOA,OAAO,MAAMC,YAAN,CACP;AACgC;AAI9BC,EAAAA,WAAW,CAACC,OAAD,EACX;AAAA,SALQA,OAKR,GAL0B,EAK1B;AAAA,SAHQC,OAGR,GAH2B,IAAIC,OAAJ,EAG3B;AACE;AACA,SAAKF,OAAL,GAAe,2FAAf;AACA,SAAKG,SAAL;AACD,GAVH,CAYE;;;AACQC,EAAAA,aAAR,CAAsBC,MAAtB,EACA;AACE,UAAMC,GAAa,GAAG,EAAtB;AACAD,IAAAA,MAAM,CAACE,OAAP,CAAgBC,KAAD,IAAmB;AAChC,UAAIA,KAAK,IAAI,IAAT,IAAiBH,MAAM,KAAKI,SAAhC,EACA;AACE;AACD;;AACD,UAAID,KAAK,KAAK,EAAd,EACA;AACE;AACD;;AACDF,MAAAA,GAAG,CAACI,IAAJ,CAASF,KAAT;AACD,KAVD;AAWA,WAAOF,GAAP;AACD;;AAEOK,EAAAA,aAAR,CAAsBN,MAAtB,EACA;AACEA,IAAAA,MAAM,CAACE,OAAP,CAAgBC,KAAD,IAAmB;AAChC;AACAI,MAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ;AACD,KAHD,EADF,CAKE;AACD;;AAEOV,EAAAA,SAAR,GACA;AACE,QAAIE,MAAgB,GAAGR,oBAAoB,CAACiB,mBAArB,CAAyC,KAAKd,OAA9C,CAAvB;AACAK,IAAAA,MAAM,GAAG,KAAKD,aAAL,CAAmBC,MAAnB,CAAT;AACA,SAAKM,aAAL,CAAmBN,MAAnB;AACD;;AA5CH;AAgDA,WAAaU,KAAb,GADCnB,QACD,UADA,MACamB,KADb,SAC2BpB,KAAK,CAACqB,SADjC,CAEA;AACE,MAAYC,OAAZ,GACA;AACE,WAAO,KAAKC,KAAL,CAAWD,OAAlB;AACD;;AAEDE,EAAAA,MAAM,GACN;AACE,wBAAO,uDAAP;AACD;;AATH,CADA","sourcesContent":["import * as React from \"react\";\nimport {observable, runInAction} from \"mobx\";\nimport {observer} from \"mobx-react\";\nimport {JournalReaderMachine} from \"../JournalReader\";\n\nexport interface StatsProps\n{\n  machine: StatsMachine;\n}\n\nexport class StatsMachine\n{\n  private journal: string = \"\"; //not observable - changing the journal needs a new stats object\n\n  private namesDB: NamesDB = new NamesDB();\n\n  constructor(journal: string)\n  {\n    // this.journal = journal; //TODO\n    this.journal = \"1-1-20: Test journal [!!Colin|Colin_Poler!!] and [!!Phil|Phil_Seo!!].\\n\\n1-2-20: Another.\";\n    this.makeStats();\n  }\n\n  //remove null and empty pieces\n  private cleansePieces(pieces: string[]): string[]\n  {\n    const ret: string[] = []\n    pieces.forEach((piece: string) => {\n      if (piece == null || pieces === undefined)\n      {\n        return;\n      }\n      if (piece === \"\")\n      {\n        return;\n      }\n      ret.push(piece);\n    });\n    return ret;\n  }\n\n  private makeNamesDict(pieces: string[]): void\n  {\n    pieces.forEach((piece: string) => {\n      // if (this.namesDB.h)\n      console.log(\"a\");\n    });\n    // this.namesDB\n  }\n\n  private makeStats(): void\n  {\n    let pieces: string[] = JournalReaderMachine.splitOnMarkupPieces(this.journal);\n    pieces = this.cleansePieces(pieces);\n    this.makeNamesDict(pieces);\n  }\n}\n\n@observer\nexport class Stats extends React.Component<StatsProps>\n{\n  private get machine(): StatsMachine\n  {\n    return this.props.machine as StatsMachine;\n  }\n\n  render()\n  {\n    return <>Stats test</>;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}