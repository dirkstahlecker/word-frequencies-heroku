{"ast":null,"code":"import _initializerDefineProperty from \"/Users/dirkstahlecker/programming/word-frequencies-heroku/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty\";\nimport _applyDecoratedDescriptor from \"/Users/dirkstahlecker/programming/word-frequencies-heroku/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\nimport _initializerWarningHelper from \"/Users/dirkstahlecker/programming/word-frequencies-heroku/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper\";\n\nvar _class,\n    _descriptor,\n    _descriptor2,\n    _descriptor3,\n    _descriptor4,\n    _descriptor5,\n    _descriptor6,\n    _temp,\n    _class3,\n    _class4,\n    _descriptor7,\n    _temp2,\n    _jsxFileName = \"/Users/dirkstahlecker/programming/word-frequencies-heroku/src/App.tsx\",\n    _class6,\n    _class7,\n    _descriptor8,\n    _descriptor9,\n    _temp3;\n\nimport * as React from \"react\";\nimport { NameReference } from \"./NameReference\";\nimport { observable, action, runInAction, computed } from \"mobx\";\nimport { observer } from \"mobx-react\";\nimport { MarkupUtils } from \"./MarkupUtils\";\nimport { JournalReader, JournalReaderMachine } from \"./JournalReader\"; // import * as Modal from \"react-modal\";\n\nimport Modal from \"react-modal\";\nimport $ from \"jquery\";\nimport { NamePickerModal, NamePickerModalMachine } from \"./NamePickerModal\";\nimport { AddMarkupMachine } from \"./AddMarkupToExistingEntry\";\nimport { Editor, EditorState } from 'draft-js';\nimport axios from 'axios';\nModal.setAppElement(document.getElementById('root'));\nexport let AppMachine = (_class = (_temp = class AppMachine {\n  constructor() {\n    _initializerDefineProperty(this, \"journalText\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"currentName\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"finalText\", _descriptor3, this);\n\n    _initializerDefineProperty(this, \"newJournalEntry\", _descriptor4, this);\n\n    _initializerDefineProperty(this, \"showDisplayJournalPlace\", _descriptor5, this);\n\n    this.modalObj = null;\n    this.addMarkupMachine = new AddMarkupMachine();\n    this.journalReaderMachine = new JournalReaderMachine();\n    this.namePickerModalMachine = new NamePickerModalMachine();\n\n    _initializerDefineProperty(this, \"updateJournalText\", _descriptor6, this);\n  }\n\n  setCurrentName(value) {\n    this.currentName = value;\n  }\n\n  get showModal() {\n    return this.currentName != null;\n  }\n\n  createFinalText(e) {\n    const dateStr = e.currentTarget.value;\n    this.finalText = dateStr + \": \" + this.journalText;\n  }\n\n  handleModalCloseRequest(commit) {\n    if (!commit) //close without adding markup\n      {\n        this.currentName = null;\n        return;\n      }\n\n    if (this.currentName == null) {\n      throw Error(\"name shouldn't be null\");\n    } //take the last name given by the user and insert the proper markup into the box itself\n\n\n    let realFirstName = this.namePickerModalMachine.realFirstName;\n    const markup = MarkupUtils.makeMarkup(realFirstName != null ? realFirstName : this.currentName, this.namePickerModalMachine.lastName, this.currentName);\n    const textLen = this.journalText.length;\n    const previousJournalText = this.journalText; //add the markup in place of the name\n\n    this.journalText = previousJournalText.substring(0, textLen - this.currentName.length - 1) + markup + previousJournalText.substring(textLen - 1, textLen); //clean up\n\n    this.currentName = null; //close the modal\n\n    this.namePickerModalMachine.lastName = \"\"; //reset\n\n    this.namePickerModalMachine.realFirstName = null;\n  } // private legalLetters: string[] = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\", \"l\", \"m\", \"n\", \"o\", \"p\", \"q\", \"r\", \"s\", \"t\", \"u\", \"v\", \"w\", \"x\", \"y\", \"z\",\n  // \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\", \"L\", \"M\", \"N\", \"O\", \"P\", \"Q\", \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\", \"-\", \"'\", \"\\\"\"];\n\n\n}, _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"journalText\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return \"\";\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"currentName\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return null;\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"finalText\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return \"\";\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"newJournalEntry\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return true;\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"showDisplayJournalPlace\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return false;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"setCurrentName\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"setCurrentName\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"showModal\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"showModal\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"createFinalText\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"createFinalText\"), _class.prototype), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"updateJournalText\", [action], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return e => {\n      this.journalText = e.currentTarget.value;\n      let text = this.journalText;\n      let lastWord;\n      let lastCharacter = text.substring(text.length - 1, text.length);\n\n      if (lastCharacter === \" \") {\n        text = text.substring(0, text.length - 1); //remove trailing space\n\n        lastWord = text.substring(Math.max(text.lastIndexOf(\" \"), text.lastIndexOf(\"\\n\")), text.length);\n        lastWord = lastWord + \" \"; //add space back in for the rest of the logic to work properly\n      } else {\n        lastWord = text.substring(Math.max(text.lastIndexOf(\" \"), text.lastIndexOf(\"\\n\")), text.length);\n      } //names must be preceeded by a space or newline and followed by a word split character\n\n\n      if (AddMarkupMachine.wordSplitCharacters.indexOf(lastWord.substring(lastWord.length - 1, lastWord.length)) > -1) //last character is a word split character\n        {\n          lastWord = NameReference.cleanWord(lastWord.substring(0, lastWord.length - 1)); //remove the final character to get just the name\n\n          if (NameReference.isName(lastWord)) {\n            this.currentName = lastWord;\n          }\n        }\n    };\n  }\n})), _class);\nexport let App = observer(_class3 = (_class4 = (_temp2 = class App extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _initializerDefineProperty(this, \"currentMarkupHack\", _descriptor7, this);\n\n    this.handleEasyMarkupGeneratorSubmit = () => {\n      let firstName = $(\"#firstName\").val();\n      let lastName = $(\"#lastName\").val();\n      let displayName = $(\"#displayName\").val();\n      this.currentMarkupHack = MarkupUtils.makeMarkup(firstName, lastName, displayName);\n      $(\"#placeToSelectText\").val(this.currentMarkupHack);\n      var copyText = document.getElementById(\"displayCopyArea\");\n      this.selectElementContents(copyText);\n      document.execCommand(\"copy\");\n      $(\"#firstName\").val(\"\").focus();\n      $(\"#lastName\").val(\"\");\n      $(\"#displayName\").val(\"\");\n    };\n  }\n\n  selectElementContents(el) {\n    var range = document.createRange();\n    range.selectNodeContents(el);\n    var sel = window.getSelection();\n\n    if (sel == null) {\n      return;\n    }\n\n    sel.removeAllRanges();\n    sel.addRange(range);\n  }\n\n  makeRequest() {\n    axios.request({\n      url: 'localhost:8765' // transformResponse: (r: PersonSchema) => r.data\n\n    }).then(response => {\n      // `response` is of type `AxiosResponse<ServerData>`\n      // const { data } = response\n      // `data` is of type ServerData, correctly inferred\n      console.log(response.firstName);\n    });\n  }\n\n  render() {\n    return React.createElement(\"span\", {\n      style: {\n        width: \"100%\",\n        height: \"100%\",\n        display: \"inline-block\",\n        verticalAlign: \"top\"\n      },\n      tabIndex: 0,\n      id: \"mainApp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(NamePickerModal, {\n      machine: this.props.machine.namePickerModalMachine,\n      onRequestClose: commit => this.props.machine.handleModalCloseRequest(commit),\n      isOpen: this.props.machine.showModal,\n      currentName: this.props.machine.currentName == null ? \"\" : this.props.machine.currentName,\n      ref: x => this.props.machine.modalObj = x,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: () => this.makeRequest(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"TEST\"), React.createElement(\"button\", {\n      onClick: () => runInAction(() => this.props.machine.newJournalEntry = !this.props.machine.newJournalEntry),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, this.props.machine.newJournalEntry ? \"Add markup to existing entry\" : \"Create new journal entry\"), React.createElement(\"button\", {\n      onClick: () => runInAction(() => this.props.machine.showDisplayJournalPlace = !this.props.machine.showDisplayJournalPlace),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, \"Read journal\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        width: \"50%\",\n        display: \"inline-block\",\n        verticalAlign: \"top\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, this.props.machine.newJournalEntry && !this.props.machine.showDisplayJournalPlace && React.createElement(React.Fragment, null, React.createElement(\"label\", {\n      htmlFor: \"dateEntry\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, \"Date: \"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"dateEntry\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"journalEntry\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, \"Entry: \"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }), React.createElement(\"textarea\", {\n      id: \"journalEntry\",\n      value: this.props.machine.journalText,\n      onChange: e => this.props.machine.updateJournalText(e),\n      style: {\n        width: \"90%\",\n        height: \"200px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: e => this.props.machine.createFinalText(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, \"Submit\")), !this.props.machine.newJournalEntry && //           {/*<AddMarkupToExistingEntry machine={this.props.machine.addMarkupMachine} />*/}\n    !this.props.machine.showDisplayJournalPlace && React.createElement(\"div\", {\n      onKeyDown: e => {\n        if (e.key === \"Enter\") {\n          e.preventDefault();\n          this.handleEasyMarkupGeneratorSubmit();\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, \"First Name: \", React.createElement(\"input\", {\n      type: \"text\",\n      id: \"firstName\",\n      autoFocus: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }), \"Last Name: \", React.createElement(\"input\", {\n      type: \"text\",\n      id: \"lastName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }), \"Display Name: \", React.createElement(\"input\", {\n      type: \"text\",\n      id: \"displayName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.handleEasyMarkupGeneratorSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, \"Submit\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"displayCopyArea\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"placeToSelectText\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }))), this.props.machine.showDisplayJournalPlace && React.createElement(JournalReader, {\n      machine: this.props.machine.journalReaderMachine,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        width: \"50%\",\n        display: \"inline-block\",\n        verticalAlign: \"top\",\n        whiteSpace: \"pre-wrap\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, this.props.machine.finalText));\n  }\n\n}, _temp2), (_descriptor7 = _applyDecoratedDescriptor(_class4.prototype, \"currentMarkupHack\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return \"\";\n  }\n})), _class4)) || _class3;\n\nlet MyEditor = observer(_class6 = (_class7 = (_temp3 = class MyEditor extends React.Component {\n  constructor(props) {\n    super(props); // this.state = {editorState: EditorState.createEmpty()};\n    // this.onChange = (editorState) => this.setState({editorState});\n\n    _initializerDefineProperty(this, \"editorState\", _descriptor8, this);\n\n    _initializerDefineProperty(this, \"onChange\", _descriptor9, this);\n  }\n\n  render() {\n    return React.createElement(Editor, {\n      editorState: this.editorState,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    });\n  }\n\n}, _temp3), (_descriptor8 = _applyDecoratedDescriptor(_class7.prototype, \"editorState\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return EditorState.createEmpty();\n  }\n}), _descriptor9 = _applyDecoratedDescriptor(_class7.prototype, \"onChange\", [action], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return editorState => {\n      this.editorState = editorState;\n    };\n  }\n})), _class7)) || _class6;\n\nexport default App;\n/*\nBUGS\n-have to write in chonological order - can't jump around with names, since they only add to end\n-need to have a story for name picker cancel\n-case sensitive (name popup only when name is capitalized) - or maybe only for particular names that are also common words (will)\n\n\nFEATURES\n-\n*/","map":{"version":3,"sources":["/Users/dirkstahlecker/programming/word-frequencies-heroku/src/App.tsx"],"names":["React","NameReference","observable","action","runInAction","computed","observer","MarkupUtils","JournalReader","JournalReaderMachine","Modal","$","NamePickerModal","NamePickerModalMachine","AddMarkupMachine","Editor","EditorState","axios","setAppElement","document","getElementById","AppMachine","modalObj","addMarkupMachine","journalReaderMachine","namePickerModalMachine","setCurrentName","value","currentName","showModal","createFinalText","e","dateStr","currentTarget","finalText","journalText","handleModalCloseRequest","commit","Error","realFirstName","markup","makeMarkup","lastName","textLen","length","previousJournalText","substring","text","lastWord","lastCharacter","Math","max","lastIndexOf","wordSplitCharacters","indexOf","cleanWord","isName","App","Component","handleEasyMarkupGeneratorSubmit","firstName","val","displayName","currentMarkupHack","copyText","selectElementContents","execCommand","focus","el","range","createRange","selectNodeContents","sel","window","getSelection","removeAllRanges","addRange","makeRequest","request","url","then","response","console","log","render","width","height","display","verticalAlign","props","machine","x","newJournalEntry","showDisplayJournalPlace","updateJournalText","key","preventDefault","whiteSpace","MyEditor","constructor","editorState","onChange","createEmpty"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport {NameReference} from \"./NameReference\";\nimport {observable, action, runInAction, computed} from \"mobx\";\nimport {observer} from \"mobx-react\";\nimport {MarkupUtils} from \"./MarkupUtils\";\nimport {JournalReader, JournalReaderMachine} from \"./JournalReader\";\n// import * as Modal from \"react-modal\";\nimport Modal from \"react-modal\";\nimport $ from \"jquery\";\nimport {NamePickerModal, NamePickerModalMachine} from \"./NamePickerModal\";\nimport {AddMarkupToExistingEntry, AddMarkupMachine} from \"./AddMarkupToExistingEntry\";\nimport {Editor, EditorState} from 'draft-js';\nimport axios from 'axios';\n\nModal.setAppElement(document.getElementById('root')!!);\n\ninterface PersonSchema\n{\n  firstName: String,\n  lastName: String,\n  displayName: String\n}\n\nexport class AppMachine\n{\n  @observable\n  public journalText: string = \"\";\n\n  @observable\n  public currentName: string | null = null;\n\n  @observable\n  public finalText: string = \"\";\n\n  @observable\n  public newJournalEntry: boolean = true;\n\n  @observable\n  public showDisplayJournalPlace: boolean = false;\n\n  public modalObj: NamePickerModal | null = null;\n\n  public addMarkupMachine: AddMarkupMachine = new AddMarkupMachine();\n\n  public journalReaderMachine: JournalReaderMachine = new JournalReaderMachine();\n\n  @action\n  public setCurrentName(value: string | null): void\n  {\n    this.currentName = value;\n  }\n\n  @computed\n  public get showModal(): boolean\n  {\n    return this.currentName != null;\n  }\n\n  public namePickerModalMachine: NamePickerModalMachine = new NamePickerModalMachine();\n\n  @action\n  public createFinalText(e: React.MouseEvent<HTMLButtonElement>): void\n  {\n    const dateStr: string = e.currentTarget.value;\n    this.finalText = dateStr + \": \" + this.journalText;\n  }\n\n  @action\n  public updateJournalText = (e: React.ChangeEvent<HTMLTextAreaElement>): void => {\n    this.journalText = e.currentTarget.value;\n\n    let text: string = this.journalText;\n    let lastWord: string;\n    let lastCharacter: string = text.substring(text.length - 1, text.length);\n    if (lastCharacter === \" \")\n    {\n      text = text.substring(0, text.length - 1); //remove trailing space\n      lastWord = text.substring(Math.max(text.lastIndexOf(\" \"), text.lastIndexOf(\"\\n\")), text.length);\n      lastWord = lastWord + \" \"; //add space back in for the rest of the logic to work properly\n    }\n    else\n    {\n      lastWord = text.substring(Math.max(text.lastIndexOf(\" \"), text.lastIndexOf(\"\\n\")), text.length);\n    }\n    \n    //names must be preceeded by a space or newline and followed by a word split character\n    if (AddMarkupMachine.wordSplitCharacters.indexOf(lastWord.substring(lastWord.length - 1, lastWord.length)) > -1) //last character is a word split character\n    {\n      lastWord = NameReference.cleanWord(lastWord.substring(0, lastWord.length - 1)); //remove the final character to get just the name\n      if (NameReference.isName(lastWord))\n      {\n        this.currentName = lastWord;\n      }\n    }\n  };\n\n  public handleModalCloseRequest(commit: boolean): void\n  {\n    if (!commit) //close without adding markup\n    {\n      this.currentName = null;\n      return;\n    }\n    if (this.currentName == null)\n    {\n      throw Error(\"name shouldn't be null\");\n    }\n    //take the last name given by the user and insert the proper markup into the box itself\n    let realFirstName: string | null = this.namePickerModalMachine.realFirstName;\n    const markup: string = MarkupUtils.makeMarkup(realFirstName != null ? realFirstName : this.currentName, this.namePickerModalMachine.lastName, this.currentName);\n    const textLen: number = this.journalText.length;\n    const previousJournalText: string = this.journalText;\n    //add the markup in place of the name\n    this.journalText = previousJournalText.substring(0, textLen - this.currentName.length - 1) + markup +  previousJournalText.substring(textLen - 1, textLen);\n\n    //clean up\n    this.currentName = null; //close the modal\n    this.namePickerModalMachine.lastName = \"\"; //reset\n    this.namePickerModalMachine.realFirstName = null;\n  }\n\n  // private legalLetters: string[] = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\", \"l\", \"m\", \"n\", \"o\", \"p\", \"q\", \"r\", \"s\", \"t\", \"u\", \"v\", \"w\", \"x\", \"y\", \"z\",\n  // \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\", \"L\", \"M\", \"N\", \"O\", \"P\", \"Q\", \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\", \"-\", \"'\", \"\\\"\"];\n}\n\nexport interface AppProps\n{\n  machine: AppMachine;\n}\n\n@observer\nexport class App extends React.Component<AppProps>\n{\n  @observable currentMarkupHack: string = \"\";\n\n  public handleEasyMarkupGeneratorSubmit = (): void => {\n    let firstName: string = $(\"#firstName\").val() as string;\n    let lastName: string = $(\"#lastName\").val() as string;\n    let displayName: string = $(\"#displayName\").val() as string;\n\n    this.currentMarkupHack = MarkupUtils.makeMarkup(firstName, lastName, displayName);\n    $(\"#placeToSelectText\").val(this.currentMarkupHack);\n\n    var copyText = document.getElementById(\"displayCopyArea\") as HTMLElement;\n    this.selectElementContents(copyText);\n    document.execCommand(\"copy\");\n\n    $(\"#firstName\").val(\"\").focus();\n    $(\"#lastName\").val(\"\");\n    $(\"#displayName\").val(\"\");\n\n\n  };\n\n  private selectElementContents(el: any) {\n    var range = document.createRange();\n    range.selectNodeContents(el);\n    var sel = window.getSelection();\n    if (sel == null)\n    {\n      return;\n    }\n    sel.removeAllRanges();\n    sel.addRange(range);\n  }\n\n  private makeRequest()\n  {\n    axios.request<PersonSchema>({\n      url: 'localhost:8765'\n      // transformResponse: (r: PersonSchema) => r.data\n    }).then((response: any) => {\n      // `response` is of type `AxiosResponse<ServerData>`\n      // const { data } = response\n      // `data` is of type ServerData, correctly inferred\n      console.log(response.firstName);\n    })\n  }\n\n  public render()\n  {\n    return (\n      <span style={{width: \"100%\", height: \"100%\", display: \"inline-block\", verticalAlign: \"top\"}} \n            tabIndex={0}\n            id=\"mainApp\"\n      >\n        <NamePickerModal \n          machine={this.props.machine.namePickerModalMachine}\n          onRequestClose={(commit: boolean) => this.props.machine.handleModalCloseRequest(commit)}\n          isOpen={this.props.machine.showModal}\n          currentName={this.props.machine.currentName == null ? \"\" : this.props.machine.currentName}\n          ref={(x) => this.props.machine.modalObj = x}\n        />\n        <button onClick={() => this.makeRequest()}>TEST</button>\n        <button onClick={() => runInAction(() => this.props.machine.newJournalEntry = !this.props.machine.newJournalEntry)}>\n          {this.props.machine.newJournalEntry ? \"Add markup to existing entry\" : \"Create new journal entry\"}\n        </button>\n        <button onClick={() => runInAction(() => this.props.machine.showDisplayJournalPlace = !this.props.machine.showDisplayJournalPlace)}>\n          Read journal\n        </button>\n        <br />\n        <br />\n        <div style={{width: \"50%\", display: \"inline-block\", verticalAlign: \"top\"}}>\n          {\n            this.props.machine.newJournalEntry && \n            !this.props.machine.showDisplayJournalPlace &&\n            <>\n              <label htmlFor=\"dateEntry\">Date: </label>\n              <br />\n              <input type=\"text\" id=\"dateEntry\" />\n              <br />\n              <br />\n              <label htmlFor=\"journalEntry\">Entry: </label>\n              <br />\n              <textarea id=\"journalEntry\" \n                        value={this.props.machine.journalText} \n                        onChange={(e) => this.props.machine.updateJournalText(e)}\n                        style={{width: \"90%\", height: \"200px\"}}\n              />\n              {/*<MyEditor />*/}\n              <br />\n              <button onClick={(e) => this.props.machine.createFinalText(e)}>Submit</button>\n            </>\n          }\n          {\n            !this.props.machine.newJournalEntry && //           {/*<AddMarkupToExistingEntry machine={this.props.machine.addMarkupMachine} />*/}\n            !this.props.machine.showDisplayJournalPlace &&\n            <div onKeyDown={(e: any) => {\n              if (e.key === \"Enter\")\n              {\n                e.preventDefault();\n                this.handleEasyMarkupGeneratorSubmit();\n              }\n            }}>\n              First Name: <input type=\"text\" id=\"firstName\" autoFocus={true}/>\n              <br />\n              Last Name: <input type=\"text\" id=\"lastName\" />\n              <br />\n              Display Name: <input type=\"text\" id=\"displayName\" />\n              <br />\n              <button onClick={this.handleEasyMarkupGeneratorSubmit}>Submit</button>\n              <br />\n              <br />\n              <div id=\"displayCopyArea\">\n                <input id=\"placeToSelectText\" />\n              </div>\n            </div>\n          }\n          {\n            this.props.machine.showDisplayJournalPlace &&\n            <JournalReader machine={this.props.machine.journalReaderMachine}/>\n          }\n\n        </div>\n        <div style={{width: \"50%\", display: \"inline-block\", verticalAlign: \"top\", whiteSpace: \"pre-wrap\"}}>\n          {this.props.machine.finalText}\n        </div>\n      </span>\n    );\n  }\n}\n\ninterface EditorProps\n{\n\n}\n\n@observer\nclass MyEditor extends React.Component<EditorProps>\n{\n  @observable editorState = EditorState.createEmpty();\n\n  constructor(props: EditorProps)\n  {\n    super(props);\n    // this.state = {editorState: EditorState.createEmpty()};\n    // this.onChange = (editorState) => this.setState({editorState});\n  }\n\n  @action\n  private onChange = (editorState: any): void => {\n    this.editorState = editorState;\n  }\n\n  public render() \n  {\n    return (\n        <Editor editorState={this.editorState} onChange={this.onChange} />\n    );\n  }\n}\n\nexport default App;\n\n\n/*\nBUGS\n-have to write in chonological order - can't jump around with names, since they only add to end\n-need to have a story for name picker cancel\n-case sensitive (name popup only when name is capitalized) - or maybe only for particular names that are also common words (will)\n\n\nFEATURES\n-\n*/\n"]},"metadata":{},"sourceType":"module"}