{"version":3,"sources":["NameReference.ts","MarkupUtils.ts","JournalReader.tsx","NamePickerModal.tsx","AddMarkupToExistingEntry.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["NameReference","word","toLowerCase","listOfNames","indexOf","replace","MarkupUtils","firstName","lastName","displayName","markup","MARKUP_REGEX","exec","rawText","pieces","getMarkupPieces","JournalReaderMachine","value","this","replaceMarkupWithDisplayName","getFullMarkupFromString","getDisplayNameFromMarkup","console","error","observable","action","JournalReader","observer","type","onChange","e","machine","updateRawText","currentTarget","disabled","style","width","height","props","React","NamePickerModalMachine","setSubmitClicked","submitClicked","lastNameTxtInput","realFirstNameTxtInput","$","val","realFirstName","NamePickerModal","onModalKeyDown","key","preventDefault","onRequestClose","isOpen","currentName","undefined","context","updateLastName","id","onKeyDown","ref","x","focus","updateRealFirstName","onClick","AddMarkupMachine","bound","namePickerModalMachine","checkerFunction","inp","outputStr","i","length","c","wordSplitCharacters","outputText_in","outputText","currentWord","oldEntryText","stripWord","isName","modalResponse","modalPromise","Promise","res","setTimeout","log","a","Error","makeMarkup","resolve","handleModalCloseRequest","updateOldEntryText","startNameSearch","Modal","setAppElement","document","getElementById","AppMachine","modalObj","addMarkupMachine","journalReaderMachine","dateStr","finalText","journalText","commit","textLen","previousJournalText","substring","computed","lastWord","text","Math","max","lastIndexOf","cleanWord","App","handleEasyMarkupGeneratorSubmit","currentMarkupHack","copyText","selectElementContents","execCommand","el","range","createRange","selectNodeContents","sel","window","getSelection","removeAllRanges","addRange","axios","request","url","then","response","display","verticalAlign","tabIndex","showModal","makeRequest","runInAction","newJournalEntry","showDisplayJournalPlace","htmlFor","updateJournalText","createFinalText","autoFocus","whiteSpace","Boolean","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"gTAEaA,G,MAAb,oGAEyBC,GAGjB,OADAA,EAAOA,EAAKC,cACLF,EAAcG,YAAYC,QAAQH,IAAS,IAL1D,gCAQ4BA,GAEpB,OAAOA,EAAKI,QAAQ,MAAO,QAVnC,MAAaL,EAaKG,YAAwB,CAClC,UACA,QACA,MACA,MACA,WACA,SACA,SACA,MACA,QACA,OACA,MACA,OACA,WACA,WACA,QACA,UACA,SACA,QACA,QACA,QACA,SACA,QACA,SACA,QACA,QACA,OACA,QACA,SACA,OACA,UACA,UACA,SACA,OACA,OACA,QACA,OACA,YACA,MACA,SACA,WACA,QACA,MACA,OACA,OACA,UACA,OACA,OACA,YACA,UACA,YACA,QACA,SACA,cACA,UACA,OACA,MACA,UACA,cACA,QACA,OACA,UACA,OACA,WACA,YACA,QACA,SACA,UACA,SACA,QACA,QACA,SACA,SACA,OACA,QACA,SACA,QACA,MACA,SACA,aACA,QACA,SACA,SACA,OACA,OACA,QACA,KACA,QACA,OACA,YACA,OACA,QACA,QACA,MACA,QACA,QACA,UACA,OACA,OACA,UACA,UACA,YACA,QACA,OACA,OACA,UACA,SACA,UACA,SACA,MACA,UACA,QACA,QACA,SACA,QACA,QACA,SACA,SACA,UACA,OACA,QACA,SACA,OACA,UACA,WACA,QACA,SACA,QACA,OACA,QACA,SACA,UACA,QACA,OACA,WACA,UACA,OACA,QACA,QACA,UACA,MACA,QACA,OACA,UACA,SACA,WACA,OACA,QACA,KACA,OACA,OACA,QACA,QACA,WACA,YACA,SACA,OACA,WACA,SACA,OACA,QACA,QACA,WACA,SACA,YACA,WACA,MACA,UACA,QACA,SACA,OACA,UACA,UACA,UACA,MACA,SACA,SACA,SACA,SACA,QACA,SACA,SACA,UACA,SACA,UACA,UACA,UACA,QACA,MACA,OACA,MACA,OACA,QACA,QACA,QACA,OACA,QACA,OACA,SACA,QACA,SACA,SACA,SACA,SACA,QACA,SACA,SACA,OACA,UACA,QACA,SACA,QACA,aACA,QACA,OACA,QACA,QACA,SACA,SACA,SACA,MACA,UACA,YACA,MACA,MACA,OACA,QACA,SACA,OACA,SACA,QACA,QACA,SACA,SACA,QACA,WACA,MACA,WACA,OACA,OACA,QACA,QACA,SACA,OACA,SACA,MACA,QACA,QACA,QACA,SACA,SACA,OACA,MACA,SACA,QACA,UACA,QACA,MACA,SACA,QACA,UACA,QACA,QACA,QACA,QACA,QACA,MACA,SACA,QACA,QACA,QACA,WACA,QACA,OACA,WACA,WACA,OACA,QACA,MACA,OACA,QACA,WACA,MACA,QACA,OACA,cACA,SACA,OACA,UACA,QACA,UACA,OACA,OACA,UACA,SACA,UACA,SACA,QACA,WACA,QACA,SACA,OACA,QACA,SACA,WACA,SACA,SACA,KACA,QACA,SACA,OACA,YACA,MACA,SACA,UACA,SACA,WACA,MACA,UACA,SACA,SACA,SACA,MACA,SACA,QACA,UACA,WACA,MACA,KACA,QACA,OACA,MACA,UACA,SACA,QACA,QACA,OACA,MACA,OACA,QACA,QACA,UACA,SACA,OACA,OACA,QACA,OACA,OACA,OACA,YACA,SACA,QACA,MACA,QACA,SACA,QACA,QACA,OACA,QACA,WACA,OACA,UACA,SACA,SACA,UACA,OACA,UACA,OACA,MACA,SACA,UACA,OACA,MACA,QACA,SACA,SACA,OACA,UACA,QACA,UACA,QACA,QACA,SACA,WACA,UACA,OACA,OACA,UACA,QACA,SACA,UACA,MACA,QACA,QACA,OACA,UACA,QACA,UACA,MACA,SACA,SACA,QACA,SACA,QACA,UACA,OACA,YACA,SACA,UACA,QACA,SACA,QACA,UACA,SACA,SACA,MACA,OACA,QACA,OACA,OACA,MACA,OACA,SACA,SACA,OACA,QACA,UACA,SACA,SACA,QACA,UACA,UACA,SACA,SACA,SACA,OACA,SACA,WACA,YACA,UACA,YACA,OACA,SACA,QACA,OACA,WACA,OACA,OACA,OACA,UACA,QACA,WAC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","file":"static/js/main.fb2e0845.chunk.js","sourcesContent":["// import * as React from 'react';\n\nexport class NameReference\n{\n    public static isName(word: string): boolean\n    {\n        word = word.toLowerCase();\n        return NameReference.listOfNames.indexOf(word) > -1;\n    }\n\n    public static cleanWord(word: string): string\n    {\n        return word.replace(/\\s/g, \"\");\n    }\n\n    public static listOfNames: string[] = [\n        \"miranda\",\n        \"damon\",\n        \"liz\",\n        \"lee\",\n        \"mckenzie\",\n        \"jareth\",\n        \"woodie\",\n        \"jim\",\n        \"jesse\",\n        \"cody\",\n        \"rob\",\n        \"june\",\n        \"federico\",\n        \"kristina\",\n        \"ariel\",\n        \"stanley\",\n        \"peyton\",\n        \"pedro\",\n        \"wynnm\",\n        \"kelly\",\n        \"kendra\",\n        \"eleni\",\n        \"jackie\",\n        \"jacky\",\n        \"elise\",\n        \"kort\",\n        \"julia\",\n        \"austin\",\n        \"jens\",\n        \"janelle\",\n        \"madison\",\n        \"stefan\",\n        \"sean\",\n        \"ryan\",\n        \"derek\",\n        \"tess\",\n        \"remington\",\n        \"les\",\n        \"dakota\",\n        \"brittney\",\n        \"jacob\",\n        \"mia\",\n        \"brin\",\n        \"sara\",\n        \"sharaya\",\n        \"zach\",\n        \"nate\",\n        \"steffanie\",\n        \"zachary\",\n        \"gabrielle\",\n        \"lando\",\n        \"landon\",\n        \"siegenfield\",\n        \"tenessa\",\n        \"gabe\",\n        \"hao\",\n        \"tchelet\",\n        \"dournashkin\",\n        \"edgar\",\n        \"anya\",\n        \"sheldon\",\n        \"clio\",\n        \"brittany\",\n        \"elizabeth\",\n        \"eliza\",\n        \"jeremy\",\n        \"manting\",\n        \"thomas\",\n        \"ginny\",\n        \"patty\",\n        \"joanna\",\n        \"trevor\",\n        \"bart\",\n        \"gabby\",\n        \"hobbes\",\n        \"trent\",\n        \"ari\",\n        \"melody\",\n        \"chrisantha\",\n        \"ahmed\",\n        \"madiha\",\n        \"angela\",\n        \"cali\",\n        \"andy\",\n        \"jaffe\",\n        \"jo\",\n        \"dalia\",\n        \"dion\",\n        \"priscilla\",\n        \"mira\",\n        \"emily\",\n        \"priya\",\n        \"rin\",\n        \"flora\",\n        \"ostin\",\n        \"brayden\",\n        \"joel\",\n        \"alio\",\n        \"phillip\",\n        \"camille\",\n        \"roosevelt\",\n        \"erwin\",\n        \"judy\",\n        \"luke\",\n        \"kendall\",\n        \"morgan\",\n        \"natasha\",\n        \"dennis\",\n        \"kam\",\n        \"orlando\",\n        \"clint\",\n        \"brian\",\n        \"forest\",\n        \"chase\",\n        \"becky\",\n        \"sabina\",\n        \"malena\",\n        \"abigail\",\n        \"amin\",\n        \"susan\",\n        \"claire\",\n        \"amit\",\n        \"lindsay\",\n        \"pelletti\",\n        \"faruh\",\n        \"jacqui\",\n        \"scott\",\n        \"cole\",\n        \"veena\",\n        \"warren\",\n        \"felicia\",\n        \"brett\",\n        \"nori\",\n        \"christie\",\n        \"christi\",\n        \"alli\",\n        \"tyler\",\n        \"isaac\",\n        \"kaytlyn\",\n        \"dan\",\n        \"panov\",\n        \"ruby\",\n        \"bridger\",\n        \"badger\",\n        \"jennifer\",\n        \"zack\",\n        \"ahaan\",\n        \"ck\",\n        \"sira\",\n        \"tory\",\n        \"torri\",\n        \"alisa\",\n        \"madeline\",\n        \"yi-shiuan\",\n        \"bernie\",\n        \"raku\",\n        \"danielle\",\n        \"lealia\",\n        \"alex\",\n        \"darcy\",\n        \"james\",\n        \"mun-ngha\",\n        \"ruifan\",\n        \"augustine\",\n        \"kristine\",\n        \"ted\",\n        \"juanita\",\n        \"chuck\",\n        \"corinn\",\n        \"alec\",\n        \"tiffany\",\n        \"bennett\",\n        \"bradley\",\n        \"rex\",\n        \"quincy\",\n        \"robert\",\n        \"george\",\n        \"hayden\",\n        \"elisa\",\n        \"alyssa\",\n        \"daniel\",\n        \"jessica\",\n        \"jessie\",\n        \"melissa\",\n        \"jackson\",\n        \"heather\",\n        \"molly\",\n        \"mae\",\n        \"fred\",\n        \"jaz\",\n        \"jill\",\n        \"eitan\",\n        \"taibo\",\n        \"nisha\",\n        \"dirk\",\n        \"keith\",\n        \"cait\",\n        \"peinan\",\n        \"david\",\n        \"adrian\",\n        \"sherry\",\n        \"ashton\",\n        \"kailyn\",\n        \"marco\",\n        \"burhan\",\n        \"vivian\",\n        \"neil\",\n        \"gabriel\",\n        \"andie\",\n        \"rachel\",\n        \"steve\",\n        \"anastasiya\",\n        \"jesus\",\n        \"niki\",\n        \"varun\",\n        \"maria\",\n        \"shavey\",\n        \"marcel\",\n        \"tamara\",\n        \"joy\",\n        \"steveni\",\n        \"stephanie\",\n        \"ani\",\n        \"ian\",\n        \"john\",\n        \"jamie\",\n        \"albert\",\n        \"alan\",\n        \"jordan\",\n        \"grace\",\n        \"geran\",\n        \"nathan\",\n        \"mickey\",\n        \"tommy\",\n        \"virginia\",\n        \"tom\",\n        \"micheala\",\n        \"greg\",\n        \"kody\",\n        \"greta\",\n        \"megan\",\n        \"ashley\",\n        \"dani\",\n        \"ellena\",\n        \"ana\",\n        \"chloe\",\n        \"caleb\",\n        \"fiona\",\n        \"fjiona\",\n        \"carson\",\n        \"zeke\",\n        \"mal\",\n        \"carter\",\n        \"allen\",\n        \"beckett\",\n        \"kevin\",\n        \"zoe\",\n        \"sherri\",\n        \"malte\",\n        \"brandon\",\n        \"becca\",\n        \"linda\",\n        \"aofei\",\n        \"lexie\",\n        \"tevin\",\n        \"kai\",\n        \"julian\",\n        \"mandy\",\n        \"jorge\",\n        \"maddy\",\n        \"julianna\",\n        \"brent\",\n        \"dina\",\n        \"victoria\",\n        \"scarlett\",\n        \"cory\",\n        \"jason\",\n        \"kat\",\n        \"beth\",\n        \"sally\",\n        \"michelle\",\n        \"ria\",\n        \"aisha\",\n        \"phil\",\n        \"christianna\",\n        \"tamiko\",\n        \"reed\",\n        \"kristen\",\n        \"ethan\",\n        \"frances\",\n        \"raja\",\n        \"lizy\",\n        \"charles\",\n        \"bonnie\",\n        \"mikayla\",\n        \"carlee\",\n        \"gates\",\n        \"evaristo\",\n        \"randi\",\n        \"duncan\",\n        \"kade\",\n        \"randy\",\n        \"sierra\",\n        \"caroline\",\n        \"monica\",\n        \"tricia\",\n        \"dj\",\n        \"carly\",\n        \"alicia\",\n        \"coty\",\n        \"cristhian\",\n        \"ben\",\n        \"felipe\",\n        \"vincent\",\n        \"amanda\",\n        \"harrison\",\n        \"kim\",\n        \"kitanna\",\n        \"dillon\",\n        \"hammer\",\n        \"jacque\",\n        \"ken\",\n        \"eunice\",\n        \"tamra\",\n        \"felisha\",\n        \"jonathan\",\n        \"joe\",\n        \"jj\",\n        \"jonah\",\n        \"gwyn\",\n        \"jon\",\n        \"quantum\",\n        \"colton\",\n        \"piper\",\n        \"peter\",\n        \"kate\",\n        \"jay\",\n        \"miso\",\n        \"annie\",\n        \"sasha\",\n        \"rebekah\",\n        \"elliot\",\n        \"jeff\",\n        \"jaya\",\n        \"sammi\",\n        \"jayd\",\n        \"tony\",\n        \"mady\",\n        \"jyotishka\",\n        \"nicole\",\n        \"carla\",\n        \"sam\",\n        \"anton\",\n        \"anurag\",\n        \"karla\",\n        \"mikey\",\n        \"jess\",\n        \"heman\",\n        \"hemantha\",\n        \"mike\",\n        \"eduardo\",\n        \"ariane\",\n        \"andrew\",\n        \"anthony\",\n        \"lily\",\n        \"stephen\",\n        \"dave\",\n        \"gal\",\n        \"andrea\",\n        \"kathryn\",\n        \"will\",\n        \"max\",\n        \"garth\",\n        \"yuliya\",\n        \"victor\",\n        \"ceri\",\n        \"kaytlyn\",\n        \"obasi\",\n        \"dominic\",\n        \"robyn\",\n        \"robin\",\n        \"ishaan\",\n        \"veronica\",\n        \"richard\",\n        \"nika\",\n        \"rich\",\n        \"carlson\",\n        \"tevis\",\n        \"audrey\",\n        \"despina\",\n        \"ivy\",\n        \"piotr\",\n        \"grant\",\n        \"eric\",\n        \"dakotah\",\n        \"paula\",\n        \"everett\",\n        \"kip\",\n        \"jaclyn\",\n        \"westin\",\n        \"dylan\",\n        \"ashley\",\n        \"lucas\",\n        \"charlie\",\n        \"kyle\",\n        \"crisantha\",\n        \"joseff\",\n        \"spencer\",\n        \"nessa\",\n        \"carrie\",\n        \"gavin\",\n        \"sheenan\",\n        \"lauren\",\n        \"hayley\",\n        \"hal\",\n        \"nick\",\n        \"nikki\",\n        \"josh\",\n        \"rosa\",\n        \"ada\",\n        \"ross\",\n        \"cheryl\",\n        \"shelby\",\n        \"jake\",\n        \"menno\",\n        \"chalese\",\n        \"saroja\",\n        \"mattea\",\n        \"mateo\",\n        \"monique\",\n        \"rebecca\",\n        \"emilio\",\n        \"maddie\",\n        \"dencil\",\n        \"suma\",\n        \"kolton\",\n        \"clarissa\",\n        \"christina\",\n        \"michael\",\n        \"christine\",\n        \"emma\",\n        \"kinney\",\n        \"arden\",\n        \"jory\",\n        \"patience\",\n        \"joey\",\n        \"brad\",\n        \"drew\",\n        \"patrick\",\n        \"mirim\",\n        \"michaela\",\n        \"howell\",\n        \"dean\",\n        \"yulia\",\n        \"igor\",\n        \"donald\",\n        \"seigenfeld\",\n        \"huynh\",\n        \"lorraine\",\n        \"garret\",\n        \"conner\",\n        \"hugh\",\n        \"wendy\",\n        \"anna\",\n        \"aaron\",\n        \"wesley\",\n        \"kristin\",\n        \"francis\",\n        \"iris\",\n        \"prabhav\",\n        \"justin\",\n        \"coral\",\n        \"stuart\",\n        \"dwight\",\n        \"carolyn\",\n        \"chris\",\n        \"ky-ahn\",\n        \"steven\",\n        \"tadd\",\n        \"horkley\",\n        \"katie\",\n        \"akshay\",\n        \"lexi\",\n        \"shae\",\n        \"shane\",\n        \"caitlin\",\n        \"melanie\",\n        \"lydia\",\n        \"predrag\",\n        \"junior\",\n        \"neerja\",\n        \"waffles\",\n        \"eddie\",\n        \"cearston\",\n        \"taylor\",\n        \"jenny\",\n        \"krista\",\n        \"johnny\",\n        \"feyza\",\n        \"erin\",\n        \"grammie\",\n        \"andreea\",\n        \"graham\",\n        \"jenna\",\n        \"cassie\",\n        \"tim\",\n        \"holly\",\n        \"kira\",\n        \"neha\",\n        \"dale\",\n        \"yen\",\n        \"colin\",\n        \"tenye\",\n        \"matt\",\n        \"barry\",\n        \"sue\",\n        \"lucia\",\n        \"chun-lok\",\n        \"gray\",\n        \"william\",\n        \"talia\",\n        \"evan\",\n        \"kory\",\n        \"stan\",\n        \"lane\",\n        \"maegan\",\n        \"angie\",\n        \"jade\",\n        \"natalie\",\n        \"martina\",\n        \"tanner\",\n        \"corey\",\n        \"elaine\",\n        \"adam\",\n        \"margaret\",\n        \"denny\",\n        \"paige\",\n        \"mirim\",\n        \"shinjini\",\n        \"laura\",\n        \"sarah\",\n        \"justine\",\n        \"mollie\",\n        \"adri\",\n        \"katherine\",\n        \"lin\",\n        \"kathleen\"\n    ]\n}\n\nexport default NameReference;\n\n\n//TOOD: how to deal with people that get married and change their names?\n//deal with adults with titles (\"Mrs. Margulieux\")\n//names aren't captured without a space before (for example, in a quoted string)","// import * as React from 'react';\n\nexport class MarkupUtils\n{\n  //eslint-disable-next-line no-useless-escape\n\tprivate static MARKUP_REGEX = /\\[!!([^\\|]+)\\|([^_]+)_([^!]+)!!\\]/;\n  public static makeMarkup(firstName: string, lastName: string, displayName: string = \"\"): string\n  {\n      return \"[!!\" + (displayName === \"\" ? firstName : displayName) + \"|\" + firstName + \"_\" + lastName + \"!!]\";\n  }\n\n  private static getMarkupPieces(markup: string): RegExpExecArray | null\n  {\n  \treturn MarkupUtils.MARKUP_REGEX.exec(markup);\n  }\n\n  public static getFullMarkupFromString(rawText: string): string | null\n  {\n  \tconst pieces: RegExpExecArray | null = MarkupUtils.getMarkupPieces(rawText);\n  \tif (pieces == null)\n  \t{\n  \t\treturn null\n  \t}\n  \treturn pieces[0];\n  }\n\n  public static getDisplayNameFromMarkup(markup: string): string | null\n  {\n  \tconst pieces: RegExpExecArray | null = MarkupUtils.getMarkupPieces(markup);\n  \tif (pieces == null)\n  \t{\n  \t\treturn null\n  \t}\n  \treturn pieces[1];\n  }\n\n  public static getFirstNameFromMarkup(markup: string): string | null\n  {\n  \tconst pieces: RegExpExecArray | null = MarkupUtils.getMarkupPieces(markup);\n  \tif (pieces == null)\n  \t{\n  \t\treturn null\n  \t}\n  \treturn pieces[2];\n  }\n\n  public static getLastNameFromMarkup(markup: string): string | null\n  {\n  \tconst pieces: RegExpExecArray | null = MarkupUtils.getMarkupPieces(markup);\n  \tif (pieces == null)\n  \t{\n  \t\treturn null\n  \t}\n  \treturn pieces[3];\n  }\n}\n\nexport default MarkupUtils;","import * as React from \"react\";\n// import {NameReference} from \"./NameReference\";\nimport {observable, action} from \"mobx\";\nimport {observer} from \"mobx-react\";\nimport {MarkupUtils} from \"./MarkupUtils\";\n\nexport interface JournalReaderProps\n{\n\tmachine: JournalReaderMachine;\n}\n\nexport class JournalReaderMachine\n{\n\t@observable public rawText: string = \"\";\n\n\t@action\n\tpublic updateRawText(value: string): void\n\t{\n\t\tthis.rawText = this.replaceMarkupWithDisplayName(value);\n\t}\n\n\tprivate replaceMarkupWithDisplayName(rawText: string): string\n\t{\n\t\twhile (true)\n\t\t{\n\t\t\tlet markup: string | null = MarkupUtils.getFullMarkupFromString(rawText);\n\t\t\tif (markup == null)\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst displayName: string | null = MarkupUtils.getDisplayNameFromMarkup(markup);\n\t\t\tif (displayName == null)\n\t\t\t{\n\t\t\t\tconsole.error(\"Invalid markup was received from getFullMarkupFromString\");\n\t\t\t\treturn \"TODO\";\n\t\t\t}\n\t\t\trawText = rawText.replace(markup, displayName);\n\t\t}\n\t\treturn rawText;\n\t}\n}\n\n@observer\nexport class JournalReader extends React.Component<JournalReaderProps>\n{\n\tprivate get machine(): JournalReaderMachine\n\t{\n\t\treturn this.props.machine;\n\t}\n\n\trender()\n\t{\n\t\treturn <div>\n\t\t\t<input type=\"text\" onChange={(e) => this.machine.updateRawText(e.currentTarget.value)}/>\n\t\t\t<br/>\n\t\t\t<br/>\n\t\t\t<textarea disabled={true} value={this.machine.rawText} style={{width: \"750px\", height: \"300px\"}}/>\n\t\t</div>;\n\t}\n}\n","import * as React from \"react\";\nimport {observable} from \"mobx\";\nimport {observer} from \"mobx-react\";\nimport $ from 'jquery';\nimport Modal from 'react-modal';\n\nexport class NamePickerModalMachine\n{  \n  @observable\n  public lastName: string = \"\";\n  @observable\n  public realFirstName: string | null = null;\n  @observable\n  public submitClicked: boolean = false;\n\n  public setSubmitClicked = (value: boolean): void => {\n    this.submitClicked = value;\n  }\n\n  public updateLastName(): void\n  {\n    this.lastName = $(\"#lastNameTxt\").val() as string;\n  }\n\n  public updateRealFirstName(): void\n  {\n    this.realFirstName = $(\"#realFirstNameTxt\").val() as string;\n  }\n\n  public lastNameTxtInput: any;\n  public realFirstNameTxtInput: any;\n\n}\n\nexport interface NamePickerModalProps\n{\n  machine: NamePickerModalMachine;\n  onRequestClose: (commit: boolean) => void;\n  isOpen: boolean;\n  currentName: string;\n  context?: string; //currently unused, probably won't ever be used\n}\n\n@observer\nexport class NamePickerModal extends React.Component<NamePickerModalProps>\n{\n  private onModalKeyDown = (e: any): void => {\n    if (e.key === \"Enter\")\n    {\n      e.preventDefault();\n      this.props.machine.setSubmitClicked(true);\n      this.props.onRequestClose(true);\n    }\n    if (e.key === \"Escape\")\n    {\n      this.props.onRequestClose(false);\n    }\n  };\n\n  componentDidMount()\n  {\n    // this.props.machine.lastNameTxtInput.focus();\n  }\n\n  render()\n  {\n    return (\n      <Modal \n        isOpen={this.props.isOpen}\n      >\n        <div>\n          Current name:&nbsp;\n          {this.props.currentName}\n          <br />\n          <br />\n          {\n            this.props.context !== undefined &&\n            <>\n              <div>this.props.context</div>\n              <br />\n              <br />\n            </>\n          }\n          Last name:&nbsp;\n          <input type=\"text\" \n                 onChange={() => this.props.machine.updateLastName()}\n                 id=\"lastNameTxt\"\n                 onKeyDown={this.onModalKeyDown}\n                 ref={(x) => {\n                   this.props.machine.lastNameTxtInput = x;\n                   if (x != null) \n                   {\n                     this.props.machine.lastNameTxtInput.focus();\n                   }\n                 }}\n          />\n          <br />\n          <br />\n          Real First Name:&nbsp;\n          <input type=\"text\" \n                 onChange={() => this.props.machine.updateRealFirstName()}\n                 id=\"realFirstNameTxt\"\n                 onKeyDown={this.onModalKeyDown}\n                 ref={(x) => {\n                   this.props.machine.realFirstNameTxtInput = x;\n                 }}\n          />\n          <br />\n          <br />\n          <button onClick={() => {\n            this.props.machine.setSubmitClicked(true);\n            this.props.onRequestClose(true)\n          }}>Submit</button>\n        </div>\n      </Modal>\n      );\n  }\n}\n\nexport default NamePickerModal;\n","import * as React from \"react\";\nimport {observable, action} from \"mobx\";\nimport {observer} from \"mobx-react\";\nimport {NameReference} from \"./NameReference\";\nimport {NamePickerModal, NamePickerModalMachine} from \"./NamePickerModal\";\nimport {MarkupUtils} from \"./MarkupUtils\";\n// import ReactModal from \"react-modal\";\n\nexport class AddMarkupMachine\n{\n  public static get wordSplitCharacters(): string[]\n  {\n    return [\".\", \",\", \"!\", \" \", \"?\", \":\", \";\", \"\\n\", \"'\"];\n  }\n\n  public namePickerModalMachine: NamePickerModalMachine = new NamePickerModalMachine();\n\n  @observable\n  public modalResponse: string | null = null;\n\n  @observable\n  public currentName: string | null = null\n\n  @observable\n  public oldEntryText: string = \"\";\n\n  @action\n  public updateOldEntryText = (e: React.FormEvent<HTMLTextAreaElement>): void => {\n    this.oldEntryText = e.currentTarget.value as string;\n  }\n\n  private stripWord(inp: string): string\n  {\n    let outputStr: string = \"\";\n    for (let i: number = 0; i < inp.length; i++)\n    {\n      let c: string = inp[i];\n      if (AddMarkupMachine.wordSplitCharacters.indexOf(c) > -1)\n      {\n        continue\n      }\n      outputStr += c;\n    }\n    return outputStr;\n  }\n\n  private checkerFunction = (): boolean => {\n    if (this.namePickerModalMachine.submitClicked)\n    {\n      \n    }\n    return false;\n  }\n\n  @action.bound\n  public async startNameSearch(outputText_in: string = \"\"): Promise<void>\n  {\n    // let words: string[] = this.oldEntryText.split(/\\s|\\.|,|:/);\n    // console.log(words);\n    let outputText: string = outputText_in;\n    let currentWord: string = \"\";\n\n    for (let i: number = 0; i < this.oldEntryText.length; i++)\n    {\n      let c: string = this.oldEntryText[i];\n      if (AddMarkupMachine.wordSplitCharacters.indexOf(c) > -1) //boundary\n      {\n        //check if it's a name\n        let word: string = this.stripWord(currentWord);\n        if (NameReference.isName(word))\n        {\n          //show modal\n          this.modalResponse = null;\n          this.currentName = word; //shows modal\n\n          const modalPromise: Promise<void> = new Promise(res => setTimeout(this.checkerFunction, 100));\n          \n\n          // const modalPromise = new Promise((resolve, reject) => this.modalResponse != null)\n          // await modalPromise;\n\n          // this.promiseModal().then(() => console.log(\"After modal\"));\n\n          outputText += this.modalResponse;\n          console.log(outputText);\n          // return this.startNameSearch(outputText);\n\n          return modalPromise;\n        }\n        else\n        {\n          outputText += currentWord;\n        }\n        currentWord = \"\";\n      }\n      else //regular letter\n      {\n        currentWord += c;\n      }\n    }\n  }\n\n  @action\n  public handleModalCloseRequest = async(): Promise<void> => {\n    if (this.currentName == null)\n    {\n      throw Error(\"name shouldn't be null\");\n    }\n    //take the last name given by the user and insert the proper markup into the box itself\n    const markup: string = MarkupUtils.makeMarkup(this.currentName, this.namePickerModalMachine.lastName, this.currentName);\n    //add the markup in place of the name\n\n    //TODO: something here\n    //TODO: need to make modal into a promise we can wait on here\n\n    //clean up\n    this.currentName = null; //close the modal\n\n    this.modalResponse = markup; //triggers the user has submitted the last name\n    return Promise.resolve();\n  };\n\n  // private promiseModal(): Promise<boolean>\n  // {\n  //   return new Promise((resolve, reject) => {\n  //     <Modal \n  //       isOpen={true}\n  //       onRequestClose={() => resolve(true)}\n  //       contentLabel=\"Example Modal\"\n  //     >\n  //       TEST\n  //     </Modal>\n  //   });\n  // }\n}\n\nexport interface AddMarkupProps\n{\n  machine: AddMarkupMachine\n}\n\n@observer\nexport class AddMarkupToExistingEntry extends React.Component<AddMarkupProps>\n{\n\n\n  render()\n  {\n    return <div>\n      <NamePickerModal \n        machine={this.props.machine.namePickerModalMachine}\n        onRequestClose={() => this.props.machine.handleModalCloseRequest()}\n        isOpen={this.props.machine.currentName != null}\n        currentName={this.props.machine.currentName == null ? \"\" : this.props.machine.currentName}\n      />\n      Paste old entry here:<br />\n      <textarea id=\"oldEntry\" \n                value={this.props.machine.oldEntryText} \n                onChange={(e) => this.props.machine.updateOldEntryText(e)}\n                style={{width: \"90%\", height: \"100px\"}}\n      />\n      <br />\n      <button onClick={() => this.props.machine.startNameSearch()}>Submit</button>\n      <br />\n\n    </div>\n    ;\n  }\n}\n\nexport default AddMarkupToExistingEntry;\n","import * as React from \"react\";\nimport {NameReference} from \"./NameReference\";\nimport {observable, action, runInAction, computed} from \"mobx\";\nimport {observer} from \"mobx-react\";\nimport {MarkupUtils} from \"./MarkupUtils\";\nimport {JournalReader, JournalReaderMachine} from \"./JournalReader\";\n// import * as Modal from \"react-modal\";\nimport Modal from \"react-modal\";\nimport $ from \"jquery\";\nimport {NamePickerModal, NamePickerModalMachine} from \"./NamePickerModal\";\nimport {AddMarkupMachine} from \"./AddMarkupToExistingEntry\";\n// import {Editor, EditorState} from 'draft-js';\nimport axios from 'axios';\n\nModal.setAppElement(document.getElementById('root')!!);\n\ninterface PersonSchema\n{\n  firstName: String,\n  lastName: String,\n  displayName: String\n}\n\nexport class AppMachine\n{\n  @observable\n  public journalText: string = \"\";\n\n  @observable\n  public currentName: string | null = null;\n\n  @observable\n  public finalText: string = \"\";\n\n  @observable\n  public newJournalEntry: boolean = true;\n\n  @observable\n  public showDisplayJournalPlace: boolean = false;\n\n  public modalObj: NamePickerModal | null = null;\n\n  public addMarkupMachine: AddMarkupMachine = new AddMarkupMachine();\n\n  public journalReaderMachine: JournalReaderMachine = new JournalReaderMachine();\n\n  @action\n  public setCurrentName(value: string | null): void\n  {\n    this.currentName = value;\n  }\n\n  @computed\n  public get showModal(): boolean\n  {\n    return this.currentName != null;\n  }\n\n  public namePickerModalMachine: NamePickerModalMachine = new NamePickerModalMachine();\n\n  @action\n  public createFinalText(e: React.MouseEvent<HTMLButtonElement>): void\n  {\n    const dateStr: string = e.currentTarget.value;\n    this.finalText = dateStr + \": \" + this.journalText;\n  }\n\n  @action\n  public updateJournalText = (e: React.ChangeEvent<HTMLTextAreaElement>): void => {\n    this.journalText = e.currentTarget.value;\n\n    let text: string = this.journalText;\n    let lastWord: string;\n    let lastCharacter: string = text.substring(text.length - 1, text.length);\n    if (lastCharacter === \" \")\n    {\n      text = text.substring(0, text.length - 1); //remove trailing space\n      lastWord = text.substring(Math.max(text.lastIndexOf(\" \"), text.lastIndexOf(\"\\n\")), text.length);\n      lastWord = lastWord + \" \"; //add space back in for the rest of the logic to work properly\n    }\n    else\n    {\n      lastWord = text.substring(Math.max(text.lastIndexOf(\" \"), text.lastIndexOf(\"\\n\")), text.length);\n    }\n    \n    //names must be preceeded by a space or newline and followed by a word split character\n    if (AddMarkupMachine.wordSplitCharacters.indexOf(lastWord.substring(lastWord.length - 1, lastWord.length)) > -1) //last character is a word split character\n    {\n      lastWord = NameReference.cleanWord(lastWord.substring(0, lastWord.length - 1)); //remove the final character to get just the name\n      if (NameReference.isName(lastWord))\n      {\n        this.currentName = lastWord;\n      }\n    }\n  };\n\n  public handleModalCloseRequest(commit: boolean): void\n  {\n    if (!commit) //close without adding markup\n    {\n      this.currentName = null;\n      return;\n    }\n    if (this.currentName == null)\n    {\n      throw Error(\"name shouldn't be null\");\n    }\n    //take the last name given by the user and insert the proper markup into the box itself\n    let realFirstName: string | null = this.namePickerModalMachine.realFirstName;\n    const markup: string = MarkupUtils.makeMarkup(realFirstName != null ? realFirstName : this.currentName, this.namePickerModalMachine.lastName, this.currentName);\n    const textLen: number = this.journalText.length;\n    const previousJournalText: string = this.journalText;\n    //add the markup in place of the name\n    this.journalText = previousJournalText.substring(0, textLen - this.currentName.length - 1) + markup +  previousJournalText.substring(textLen - 1, textLen);\n\n    //clean up\n    this.currentName = null; //close the modal\n    this.namePickerModalMachine.lastName = \"\"; //reset\n    this.namePickerModalMachine.realFirstName = null;\n  }\n\n  // private legalLetters: string[] = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\", \"l\", \"m\", \"n\", \"o\", \"p\", \"q\", \"r\", \"s\", \"t\", \"u\", \"v\", \"w\", \"x\", \"y\", \"z\",\n  // \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\", \"L\", \"M\", \"N\", \"O\", \"P\", \"Q\", \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\", \"-\", \"'\", \"\\\"\"];\n}\n\nexport interface AppProps\n{\n  machine: AppMachine;\n}\n\n@observer\nexport class App extends React.Component<AppProps>\n{\n  @observable currentMarkupHack: string = \"\";\n\n  public handleEasyMarkupGeneratorSubmit = (): void => {\n    let firstName: string = $(\"#firstName\").val() as string;\n    let lastName: string = $(\"#lastName\").val() as string;\n    let displayName: string = $(\"#displayName\").val() as string;\n\n    this.currentMarkupHack = MarkupUtils.makeMarkup(firstName, lastName, displayName);\n    $(\"#placeToSelectText\").val(this.currentMarkupHack);\n\n    var copyText = document.getElementById(\"displayCopyArea\") as HTMLElement;\n    this.selectElementContents(copyText);\n    document.execCommand(\"copy\");\n\n    $(\"#firstName\").val(\"\").focus();\n    $(\"#lastName\").val(\"\");\n    $(\"#displayName\").val(\"\");\n\n\n  };\n\n  private selectElementContents(el: any) {\n    var range = document.createRange();\n    range.selectNodeContents(el);\n    var sel = window.getSelection();\n    if (sel == null)\n    {\n      return;\n    }\n    sel.removeAllRanges();\n    sel.addRange(range);\n  }\n\n  private makeRequest()\n  {\n    axios.request<PersonSchema>({\n      url: 'localhost:8765'\n      // transformResponse: (r: PersonSchema) => r.data\n    }).then((response: any) => {\n      // `response` is of type `AxiosResponse<ServerData>`\n      // const { data } = response\n      // `data` is of type ServerData, correctly inferred\n      console.log(response.firstName);\n    })\n  }\n\n  public render()\n  {\n    return (\n      <span style={{width: \"100%\", height: \"100%\", display: \"inline-block\", verticalAlign: \"top\"}} \n            tabIndex={0}\n            id=\"mainApp\"\n      >\n        <NamePickerModal \n          machine={this.props.machine.namePickerModalMachine}\n          onRequestClose={(commit: boolean) => this.props.machine.handleModalCloseRequest(commit)}\n          isOpen={this.props.machine.showModal}\n          currentName={this.props.machine.currentName == null ? \"\" : this.props.machine.currentName}\n          ref={(x) => this.props.machine.modalObj = x}\n        />\n        <button onClick={() => this.makeRequest()}>TEST</button>\n        <button onClick={() => runInAction(() => this.props.machine.newJournalEntry = !this.props.machine.newJournalEntry)}>\n          {this.props.machine.newJournalEntry ? \"Add markup to existing entry\" : \"Create new journal entry\"}\n        </button>\n        <button onClick={() => runInAction(() => this.props.machine.showDisplayJournalPlace = !this.props.machine.showDisplayJournalPlace)}>\n          Read journal\n        </button>\n        <br />\n        <br />\n        <div style={{width: \"50%\", display: \"inline-block\", verticalAlign: \"top\"}}>\n          {\n            this.props.machine.newJournalEntry && \n            !this.props.machine.showDisplayJournalPlace &&\n            <>\n              <label htmlFor=\"dateEntry\">Date: </label>\n              <br />\n              <input type=\"text\" id=\"dateEntry\" />\n              <br />\n              <br />\n              <label htmlFor=\"journalEntry\">Entry: </label>\n              <br />\n              <textarea id=\"journalEntry\" \n                        value={this.props.machine.journalText} \n                        onChange={(e) => this.props.machine.updateJournalText(e)}\n                        style={{width: \"90%\", height: \"200px\"}}\n              />\n              {/*<MyEditor />*/}\n              <br />\n              <button onClick={(e) => this.props.machine.createFinalText(e)}>Submit</button>\n            </>\n          }\n          {\n            !this.props.machine.newJournalEntry && //           {/*<AddMarkupToExistingEntry machine={this.props.machine.addMarkupMachine} />*/}\n            !this.props.machine.showDisplayJournalPlace &&\n            <div onKeyDown={(e: any) => {\n              if (e.key === \"Enter\")\n              {\n                e.preventDefault();\n                this.handleEasyMarkupGeneratorSubmit();\n              }\n            }}>\n              First Name: <input type=\"text\" id=\"firstName\" autoFocus={true}/>\n              <br />\n              Last Name: <input type=\"text\" id=\"lastName\" />\n              <br />\n              Display Name: <input type=\"text\" id=\"displayName\" />\n              <br />\n              <button onClick={this.handleEasyMarkupGeneratorSubmit}>Submit</button>\n              <br />\n              <br />\n              <div id=\"displayCopyArea\">\n                <input id=\"placeToSelectText\" />\n              </div>\n            </div>\n          }\n          {\n            this.props.machine.showDisplayJournalPlace &&\n            <JournalReader machine={this.props.machine.journalReaderMachine}/>\n          }\n\n        </div>\n        <div style={{width: \"50%\", display: \"inline-block\", verticalAlign: \"top\", whiteSpace: \"pre-wrap\"}}>\n          {this.props.machine.finalText}\n        </div>\n      </span>\n    );\n  }\n}\n\ninterface EditorProps\n{\n\n}\n\n// @observer\n// class MyEditor extends React.Component<EditorProps>\n// {\n//   @observable editorState = EditorState.createEmpty();\n\n//   constructor(props: EditorProps)\n//   {\n//     super(props);\n//     // this.state = {editorState: EditorState.createEmpty()};\n//     // this.onChange = (editorState) => this.setState({editorState});\n//   }\n\n//   @action\n//   private onChange = (editorState: any): void => {\n//     this.editorState = editorState;\n//   }\n\n//   public render() \n//   {\n//     return (\n//         <Editor editorState={this.editorState} onChange={this.onChange} />\n//     );\n//   }\n// }\n\nexport default App;\n\n\n/*\nBUGS\n-have to write in chonological order - can't jump around with names, since they only add to end\n-need to have a story for name picker cancel\n-case sensitive (name popup only when name is capitalized) - or maybe only for particular names that are also common words (will)\n\n\nFEATURES\n-\n*/\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {App, AppMachine} from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <App machine={new AppMachine()}/>,\n  document.getElementById('root') as HTMLElement\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}